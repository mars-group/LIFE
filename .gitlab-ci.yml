stages:
  #- build
  - test
  #- deploy

variables:
  NUGET_FEED: "https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/"
  MAJOR_LIFE_VERSION: "2.1.0"

cache:
  untracked: true
  paths:
    - /root/.nuget/packages/


# Meta Packages
test:
  stage: test
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  services:
    - artifactory.mars.haw-hamburg.de:5000/influxdb:0.13 
  script:
    - cd $CI_PROJECT_DIR/LIFE-API
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd $CI_PROJECT_DIR/LIFE-Core
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd $CI_PROJECT_DIR/LIFE-Components
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd $CI_PROJECT_DIR/Tests/TimeSeriesLayerTests
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - dotnet test

build-LIFE-API:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - cd LIFE-API
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-LIFE-API --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-LIFE-API/


build-LIFE-Core:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/LIFECoreStarter
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-LIFE-Core --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-LIFE-Core/

build-LIFE-Components:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Components/LIFE-Components
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-LIFE-Components --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-LIFE-Components/

# LIFE Components Sub Packages

build-BasicAgents:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Components/Agents/BasicAgents
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-BasicAgents --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-BasicAgents/

build-ESC:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Components/Environments/EnvironmentServiceComponent
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-ESC --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-ESC/

build-GeoGridEnvironment:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Components/Environments/GeoGridEnvironment
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-GeoGridEnvironment --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-GeoGridEnvironment

build-GridEnvironment:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Components/Environments/GridEnvironment
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-GridEnvironment --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-GridEnvironment

build-GeoPotentialField:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Components/Layers/GeoPotentialFieldLayer
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-GeoPotentialFieldLayer --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-GeoPotentialFieldLayer

build-GridPotentialField:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Components/Layers/GridPotentialFieldLayer
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-GridPotentialFieldLayer --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-GridPotentialFieldLayer

build-ObstacleLayer:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Components/Layers/ObstacleLayer
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-ObstacleLayer --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-ObstacleLayer

build-TimeSeriesLayer:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Components/Layers/TimeSeriesLayer
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-TimeSeriesLayer --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-TimeSeriesLayer

build-Utilities:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Components/Utilities
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-Utilities --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-Utilities

build-AgentManagerService:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Components/Services/AgentManagerService
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-AgentManager --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-AgentManager/

build-AgentShadowingService:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Components/Services/AgentShadowingService
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-AgentShadowingService --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-AgentShadowingService/

# LIFE Core Sub Packages

build-ASC:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/T-Components/ASC
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-ASC --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-ASC


build-Scs:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/T-Components/Scs
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-Scs --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-Scs

build-MulticastAdapter:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/T-Components/MulticastAdapter
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-MulticastAdapter --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-MulticastAdapter

build-CustomUtilities:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/T-Components/CustomUtilities
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-CustomUtilities --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-CustomUtilities

build-ConfigurationAdapter:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/Common/ConfigurationAdapter
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-ConfigurationAdapter --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-ConfigurationAdapter

build-CommonTypes:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/Common/CommonTypes
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-CommonTypes --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-CommonTypes/

build-LayerContainerFacade:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/LayerContainer/LayerContainerFacade
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-LayerContainerFacade --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-LayerContainerFacade/


build-LayerContainerShared:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/LayerContainer/LayerContainerShared
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-LayerContainerShared --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-LayerContainerShared/

build-LayerFactory:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/LayerContainer/LayerFactory
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-LayerFactory --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-LayerFactory/

build-LayerLoader:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/Common/LayerLoader
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-LayerLoader --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-LayerLoader/

build-LayerNameService:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/SimulationManager/LayerNameService
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-LayerNameService --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-LayerNameService/

build-LayerRegistry:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/LayerContainer/LayerRegistry
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-LayerRegistry --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-LayerRegistry/

build-LNSConnector:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/Common/LNSConnector
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-LNSConnector --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-LNSConnector/

build-ModelContainer:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/SimulationManager/ModelContainer
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-ModelContainer --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-ModelContainer/

build-NodeRegistry:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/Common/NodeRegistry
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-NodeRegistry --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-NodeRegistry/

build-PartitionManager:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/LayerContainer/PartitionManager
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-PartitionManager --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-PartitionManager/

build-ResultAdapter:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/LayerContainer/ResultAdapter
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-ResultAdapter --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-ResultAdapter/

build-RTEManager:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/LayerContainer/RTEManager
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-RTEManager --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-RTEManager/

build-RuntimeEnvironment:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/SimulationManager/RuntimeEnvironment
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-RuntimeEnvironment --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-RuntimeEnvironment/

build-SimulationManagerFacade:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/SimulationManager/SimulationManagerFacade
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-SimulationManagerFacade --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-SimulationManagerFacade/

build-SimulationManagerShared:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/SimulationManager/SimulationManagerShared
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-SimulationManagerShared --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-SimulationManagerShared/

build-SMConnector:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/Common/SMConnector
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-SMConnector --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-SMConnector/

build-LCConnector:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/Common/LCConnector
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-LCConnector --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 300 mins
    paths:
      - out-LCConnector/

build-LIFECoreUtilities:
  stage: build
  image: artifactory.mars.haw-hamburg.de:5000/microsoft/dotnet:1.1.0-sdk-projectjson
  script:
    - dotnet restore -s https://artifactory.mars.haw-hamburg.de/artifactory/api/nuget/nuget-virtual/ .
    - cd LIFE-Core/T-Components/LIFECoreUtilities
    - dotnet build -c Release
    - dotnet pack -c Release --output $CI_PROJECT_DIR/out-LIFECoreUtilities --version-suffix $CI_PIPELINE_ID
  artifacts:
    expire_in: 120 mins
    paths:
      - out-LIFECoreUtilities/

pushAllPackages:
  stage: deploy
  image: frolvlad/alpine-mono
  script:
    - mono .nuget/NuGet.exe push out-LIFE-API/LIFE-API.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-LIFE-Core/LIFE-Core.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-LIFE-Components/LIFE-Components.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-BasicAgents/BasicAgents.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-GeoGridEnvironment/GeoGridEnvironment.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-GridEnvironment/GridEnvironment.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-ESC/EnvironmentServiceComponent.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-GeoPotentialFieldLayer/GeoPotentialFieldLayer.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-GridPotentialFieldLayer/GridPotentialFieldLayer.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-ObstacleLayer/ObstacleLayer.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-TimeSeriesLayer/TimeSeriesLayer.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-Utilities/Utilities.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-ASC/ASC.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-Scs/Scs.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-MulticastAdapter/MulticastAdapter.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-CustomUtilities/CustomUtilities.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-ConfigurationAdapter/ConfigurationAdapter.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-AgentManager/AgentManagerService.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-AgentShadowingService/AgentShadowingService.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-CommonTypes/CommonTypes.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-LayerContainerFacade/LayerContainerFacade.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-LayerContainerShared/LayerContainerShared.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-LayerFactory/LayerFactory.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-LayerLoader/LayerLoader.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-LayerNameService/LayerNameService.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-LayerRegistry/LayerRegistry.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-LNSConnector/LNSConnector.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-ModelContainer/ModelContainer.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-NodeRegistry/NodeRegistry.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-PartitionManager/PartitionManager.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-ResultAdapter/ResultAdapter.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-RTEManager/RTEManager.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-RuntimeEnvironment/RuntimeEnvironment.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-SimulationManagerFacade/SimulationManagerFacade.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-SimulationManagerShared/SimulationManagerShared.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-SMConnector/SMConnector.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-LCConnector/LCConnector.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
    - mono .nuget/NuGet.exe push out-LIFECoreUtilities/LIFECoreUtilities.$MAJOR_LIFE_VERSION-$CI_PIPELINE_ID.nupkg -ApiKey $PUSH_KEY -Source $PUSH_PATH
